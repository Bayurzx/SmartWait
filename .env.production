# SmartWait MVP Production Environment Configuration
# Copy this file to .env.production and update with your production values

# ================================
# APPLICATION CONFIGURATION
# ================================
NODE_ENV=production
PORT=3001
API_VERSION=v1

# ================================
# DATABASE CONFIGURATION
# ================================
# PostgreSQL Production Database
DATABASE_URL=postgresql://smartwait_user:CHANGE_ME_STRONG_PASSWORD@localhost:5432/smartwait_production
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smartwait_production
DB_USER=smartwait_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20

# ================================
# REDIS CONFIGURATION
# ================================
# Redis for caching and real-time features
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_DB=0
REDIS_POOL_MIN=5
REDIS_POOL_MAX=50

# ================================
# AUTHENTICATION & SECURITY
# ================================
# JWT Configuration
JWT_SECRET=CHANGE_ME_VERY_STRONG_JWT_SECRET_AT_LEAST_32_CHARACTERS_LONG
JWT_EXPIRES_IN=8h
JWT_ISSUER=smartwait-mvp
JWT_AUDIENCE=smartwait-api,smartwait-web,smartwait-mobile

# Session Configuration
SESSION_SECRET=CHANGE_ME_STRONG_SESSION_SECRET
SESSION_TIMEOUT=28800000  # 8 hours in milliseconds

# CORS Configuration
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://staff.yourdomain.com

# ===========================================
# Staff Authentication
# ===========================================
STAFF_USERNAME=staff
STAFF_PASSWORD=smartwait2024
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin2024

# ================================
# TWILIO SMS CONFIGURATION
# ================================
# Twilio Production Credentials
TWILIO_ACCOUNT_SID=CHANGE_ME_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=CHANGE_ME_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_URL=https://yourdomain.com/api/webhooks/twilio

# SMS Configuration
SMS_ENABLED=true
SMS_RETRY_ATTEMPTS=3
SMS_RETRY_DELAY=5000  # 5 seconds

# ================================
# LOGGING & MONITORING
# ================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/var/log/smartwait/app.log
ERROR_LOG_FILE=/var/log/smartwait/error.log

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
HEALTH_CHECK_TIMEOUT=5000    # 5 seconds

# ================================
# PERFORMANCE & SCALING
# ================================
# Rate Limiting
RATE_LIMIT_WINDOW=900000     # 15 minutes
RATE_LIMIT_MAX_REQUESTS=1000 # per window
RATE_LIMIT_SKIP_SUCCESSFUL=false

# Request Limits
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000        # 30 seconds

# WebSocket Configuration
WEBSOCKET_PING_INTERVAL=25000    # 25 seconds
WEBSOCKET_PING_TIMEOUT=5000      # 5 seconds
WEBSOCKET_MAX_CONNECTIONS=1000

# ================================
# BACKUP & MAINTENANCE
# ================================
# Database Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *    # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=smartwait-backups
BACKUP_S3_REGION=us-east-1

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ================================
# EXTERNAL SERVICES
# ================================
# Email Service (Optional)
EMAIL_SERVICE_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=CHANGE_ME_EMAIL_PASSWORD

# Analytics (Optional)
ANALYTICS_ENABLED=false
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# ================================
# SECURITY HEADERS
# ================================
# Security Configuration
HELMET_ENABLED=true
HSTS_MAX_AGE=31536000        # 1 year
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# ================================
# SSL/TLS CONFIGURATION
# ================================
# SSL Certificate Paths (if using custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/smartwait.crt
SSL_KEY_PATH=/etc/ssl/private/smartwait.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# ================================
# DEPLOYMENT METADATA
# ================================
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_DATE=2025-01-01
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_COMMIT_SHA=CHANGE_ME_GIT_COMMIT_SHA